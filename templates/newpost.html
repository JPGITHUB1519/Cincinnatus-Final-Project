{% extends "base.html" %}
{% block title %} New Post {% endblock %}

{% block content %}

	<div class="row">
		<div class="col-xs-12 col-md-6 center-block">
			<form method="post">
				<div class="form-group">
					<label>Subject</label>
					<input type="text" name="subject" class="form-control" placeholder="subject">
				</div>
				<div class="form-group">
					<label>Content</label>
					<textarea class="form-control" name = "content"></textarea>
				</div>
				<div class="row">
					<div class="col-xs-4">
						<label>Category</label>
						<select name="category" id="category">
							{% for category in category_list %}
								<option value="{{ category.key().id() }}">{{ category.name }}</option>
							{% endfor %}
							<option value="other">other</option>
						</select>
					</div>
					<div class="col-xs-8 invisible" id="new_category">
						<label>New Category</label>
						<input type="" name="new_category">
					</div>
				</div>
				<div class="row little-margin-top">
					<div class="col-md-12">
						<input type="submit" name="" class="btn btn-default center-block">
					</div>
				</div>
				<h2 class="text-center error-text">{{ error }}</h2>
			</form>
		</div>
	</div>
	<script type="text/javascript">
		$(document).ready(function(){
			// show/hide new category
			$("#category").change(function(){
			    if($(this).val() == "other")
			    {
			    	$("#new_category").removeClass("invisible");
			    	$("#new_category").addClass("visible");
			    }
			    else
			    {
			    	$("#new_category").addClass("invisible");
			    	$("#new_category").removeClass("visible");
			    }
			});
		});
	</script>
{% endblock %}